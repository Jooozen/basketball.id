{
  "tactics": [
    {
      "id": "pattern_1",
      "name": "P&R Tag & Backdoor",
      "description": "ピック＆ロールから逆サイドのタグを逆手に取ったバックドア",
      "explanation": "Cがコーナーから上がってボールスクリーン。PGがドライブし、Cがリムへロール。X4がタグに入った瞬間、PFがバックドアを突いてノーマークのレイアップ。",
      "initPositions": {"PG": "TopKey", "SG": "WingL", "SF": "CornerL", "PF": "WingR", "C": "CornerR"},
      "ballHandler": "PG",
      "steps": [
        {
          "step": 1,
          "action": "C pops up to set screen",
          "description": "Cがコーナーから上がりPGにボールスクリーンをセット",
          "moves": [
            {"player": "C", "from": "CornerR", "to": "BallScreenTop", "path": "linear", "role": "screener"},
            {"player": "PG", "from": "TopKey", "to": "TopKey", "state": "dribbling"}
          ]
        },
        {
          "step": 2,
          "action": "PG drives, C rolls",
          "description": "PGがスクリーンを使い右へドライブ。Cはリムへロール",
          "condition": "X5がスクリーンヘッジ → Cのロールがフリー",
          "moves": [
            {"player": "PG", "from": "TopKey", "to": "SlotR", "path": "curved_right", "state": "dribbling"},
            {"player": "C", "from": "BallScreenTop", "to": "PaintCenter", "path": "roll_dive"}
          ]
        },
        {
          "step": 3,
          "action": "PF Backdoor Cut!",
          "description": "X4がCのタグに入った瞬間、PFがバックドアカット！",
          "condition": "X4がCへタグ → PFのバックドアが空く",
          "moves": [
            {"player": "PF", "from": "WingR", "to": "DunkerR", "path": "backdoor"},
            {"player": "PG", "from": "SlotR", "to": "SlotR", "state": "dribbling"}
          ]
        },
        {
          "step": 4,
          "action": "PG → PF Pass & Layup!",
          "description": "PGからPFへバウンスパス → ノーマークレイアップ！",
          "moves": [
            {"player": "PG", "action": "pass", "target": "PF", "passType": "bounce"},
            {"player": "PF", "action": "layup", "at": "Rim"}
          ]
        }
      ]
    },
    {
      "id": "pattern_2",
      "name": "Pin-down to High-Low",
      "description": "ピンダウンからハイロー展開でインサイドを崩す",
      "explanation": "PGからSFへパス後、PGがSGにピンダウンスクリーン。SGがカールカットで注目を集め、CがハイポストにフラッシュしてX5を釣り出す。空いたローポストにPFが飛び込む。",
      "initPositions": {"PG": "TopKey", "SG": "CornerL", "SF": "WingR", "PF": "CornerR", "C": "WingL"},
      "ballHandler": "PG",
      "steps": [
        {
          "step": 1,
          "action": "PG passes to SF, screens for SG",
          "description": "PGからSFへパス。PGはSGにピンダウンスクリーン",
          "moves": [
            {"player": "PG", "action": "pass", "target": "SF"},
            {"player": "PG", "from": "TopKey", "to": "PinDownL", "path": "linear", "role": "screener"}
          ]
        },
        {
          "step": 2,
          "action": "SG curls off screen",
          "description": "SGがスクリーンを使いカールカット。PGはコーナーへフェイド",
          "condition": "X2がスクリーンにトレイル → SGカールでフリー",
          "moves": [
            {"player": "SG", "from": "CornerL", "to": "FreeThrow", "path": "curl_around_screen"},
            {"player": "PG", "from": "PinDownL", "to": "CornerL", "path": "linear"}
          ]
        },
        {
          "step": 3,
          "action": "C flashes to High Post",
          "description": "CがウィングからハイポストへフラッシュしSFからパスを受ける",
          "moves": [
            {"player": "C", "from": "WingL", "to": "ElbowL", "path": "flash"},
            {"player": "SF", "action": "pass", "target": "C"}
          ]
        },
        {
          "step": 4,
          "action": "C → PF High-Low Feed!",
          "description": "X5がエルボーに釣り出され、CからPFへハイローフィード！",
          "condition": "X5がハイポストに出る → ゴール下にスペース",
          "moves": [
            {"player": "PF", "from": "CornerR", "to": "DunkerR", "path": "flash"},
            {"player": "C", "action": "pass", "target": "PF", "passType": "high_low"}
          ]
        }
      ]
    },
    {
      "id": "pattern_3",
      "name": "Spanish P&R (Stack)",
      "description": "スクリーナーにスクリーンでDFの判断コストを爆発させる",
      "explanation": "CがボールスクリーンをセットしSGがX5にバックスクリーン。3人が絡みDFのスイッチ判断をフリーズさせ、リムへのダイブを創出。三体問題。",
      "initPositions": {"PG": "TopKey", "SG": "WingL", "SF": "CornerR", "PF": "CornerL", "C": "WingR"},
      "ballHandler": "PG",
      "steps": [
        {
          "step": 1,
          "action": "C & SG set double screen",
          "description": "CがPGにボールスクリーン。SGがCのDF（X5）にバックスクリーン",
          "moves": [
            {"player": "C", "from": "WingR", "to": "BallScreenTop", "path": "linear", "role": "screener"},
            {"player": "SG", "from": "WingL", "to": "ElbowR", "path": "linear", "role": "screener"}
          ]
        },
        {
          "step": 2,
          "action": "PG attacks left",
          "description": "PGがスクリーンを使って左方向にアタック",
          "moves": [
            {"player": "PG", "from": "TopKey", "to": "SlotL", "path": "curved_left", "state": "dribbling"}
          ]
        },
        {
          "step": 3,
          "action": "C dives to rim!",
          "description": "SGのバックスクリーンでX5が剥がされ、Cがフリーでリムへダイブ",
          "condition": "X5がバックスクリーンにハマる → Cフリー",
          "moves": [
            {"player": "C", "from": "BallScreenTop", "to": "DunkerL", "path": "roll_dive"},
            {"player": "SG", "from": "ElbowR", "to": "TopR", "path": "linear"}
          ]
        },
        {
          "step": 4,
          "action": "PG → C Lob Pass!",
          "description": "判断が遅れたDFを尻目にPGからCへロブパス → ダンク！",
          "moves": [
            {"player": "PG", "action": "pass", "target": "C", "passType": "lob"},
            {"player": "C", "action": "dunk", "at": "Rim"}
          ]
        }
      ]
    }
  ]
}
