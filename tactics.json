{
  "tactics": [
    {
      "id": "pattern_1",
      "name": "P&R Tag & Backdoor",
      "description": "ピック＆ロールから逆サイドのタグを逆手に取ったバックドア",
      "explanation": "CがPGにボールスクリーンをセット。PGがドライブしCがロール。X4がCにタグ（ヘルプ）に入った瞬間を見逃さず、PFがバックドアカット。DFが置き去りになった瞬間にPGがパス。",
      "initPositions": {"PG": "TopKey", "SG": "WingL", "SF": "CornerL", "PF": "WingR", "C": "CornerR"},
      "ballHandler": "PG",
      "steps": [
        {
          "step": 1,
          "action": "C sets ball screen",
          "description": "CがコーナーからPGの位置まで上がりボールスクリーンをセット",
          "moves": [
            {"player": "C", "from": "CornerR", "to": "BallScreenTop", "path": "linear", "role": "screener"}
          ]
        },
        {
          "step": 2,
          "action": "PG drives + C rolls",
          "description": "PGがスクリーンを使い右へドライブ。Cは同時にリムへロール（P&Rの連動アクション）",
          "condition": "X5がヘッジ → Cのロールレーンが空く",
          "moves": [
            {"player": "PG", "from": "TopKey", "to": "SlotR", "path": "curved_right", "state": "dribbling"},
            {"player": "C", "from": "BallScreenTop", "to": "PaintCenter", "path": "roll_dive"}
          ]
        },
        {
          "step": 3,
          "action": "PF reads tag & backdoor cuts",
          "description": "X4がCのロールにタグ（ヘルプ）に入る → PFがそれを見てバックドアカット！",
          "condition": "X4がCへタグ → PFのバックドアレーンが空く",
          "defenseDelay": {"PF": 0.75},
          "moves": [
            {"player": "PF", "from": "WingR", "to": "DunkerR", "path": "backdoor"}
          ]
        },
        {
          "step": 4,
          "action": "PG passes to open PF",
          "description": "PFがDFを置き去りにした瞬間、PGがバウンスパス → ノーマークレイアップ！",
          "moves": [
            {"player": "PG", "action": "pass", "target": "PF", "passType": "bounce", "passAt": 0.4},
            {"player": "PF", "action": "layup", "at": "Rim"}
          ]
        }
      ]
    },
    {
      "id": "pattern_2",
      "name": "Pin-down to High-Low",
      "description": "ピンダウンからハイロー展開でインサイドを崩す",
      "explanation": "PGからSFへパス後、PGがSGにピンダウンスクリーン。SGのカールで注意を引き、CがハイポストにフラッシュしX5を釣り出す。空いたローポストにPFが飛び込みハイローフィード。",
      "initPositions": {"PG": "TopKey", "SG": "CornerL", "SF": "WingR", "PF": "CornerR", "C": "WingL"},
      "ballHandler": "PG",
      "steps": [
        {
          "step": 1,
          "action": "PG passes to SF",
          "description": "PGからSFへエントリーパス。ボールをサイドに展開",
          "moves": [
            {"player": "PG", "action": "pass", "target": "SF", "passAt": 0.3}
          ]
        },
        {
          "step": 2,
          "action": "PG sets pin-down for SG",
          "description": "パス後、PGがSGのDF（X2）にピンダウンスクリーンをセットしに移動",
          "moves": [
            {"player": "PG", "from": "TopKey", "to": "PinDownL", "path": "linear", "role": "screener"}
          ]
        },
        {
          "step": 3,
          "action": "SG curls + PG fades",
          "description": "SGがスクリーンを使いカールカット。PGはコーナーへフェード（連動アクション）",
          "condition": "X2がスクリーンにトレイル → SGがフリーでカール",
          "moves": [
            {"player": "SG", "from": "CornerL", "to": "FreeThrow", "path": "curl_around_screen"},
            {"player": "PG", "from": "PinDownL", "to": "CornerL", "path": "linear"}
          ]
        },
        {
          "step": 4,
          "action": "C flashes to high post",
          "description": "SGのカールにDFの注意が集まる隙に、Cがウィングからハイポストへフラッシュ",
          "moves": [
            {"player": "C", "from": "WingL", "to": "ElbowL", "path": "flash"}
          ]
        },
        {
          "step": 5,
          "action": "SF passes to C",
          "description": "ハイポストに位置取ったCにSFからパス",
          "moves": [
            {"player": "SF", "action": "pass", "target": "C", "passAt": 0.3}
          ]
        },
        {
          "step": 6,
          "action": "PF dives to low post",
          "description": "X5がCのハイポストまで釣り出された → ゴール下が空きPFがダイブ！",
          "condition": "X5がエルボーに出る → ゴール下にスペースが生まれる",
          "defenseDelay": {"PF": 0.7},
          "moves": [
            {"player": "PF", "from": "CornerR", "to": "DunkerR", "path": "flash"}
          ]
        },
        {
          "step": 7,
          "action": "C feeds PF high-low",
          "description": "DFが置き去りになったPFにCからハイローフィード → イージーバスケット！",
          "moves": [
            {"player": "C", "action": "pass", "target": "PF", "passType": "high_low", "passAt": 0.4},
            {"player": "PF", "action": "layup", "at": "Rim"}
          ]
        }
      ]
    },
    {
      "id": "pattern_3",
      "name": "Spanish P&R (Stack)",
      "description": "スクリーナーにスクリーンでDFの判断コストを爆発させる",
      "explanation": "CがPGにボールスクリーンをセットし、SGがCのDF（X5）にバックスクリーン。PGのドライブ→Cのロール→SGのバックスクリーンの三者連動で、DFのスイッチ判断を崩壊させる。三体問題。",
      "initPositions": {"PG": "TopKey", "SG": "WingL", "SF": "CornerR", "PF": "CornerL", "C": "WingR"},
      "ballHandler": "PG",
      "steps": [
        {
          "step": 1,
          "action": "C sets ball screen",
          "description": "CがウィングからPGの位置に上がりボールスクリーンをセット",
          "moves": [
            {"player": "C", "from": "WingR", "to": "BallScreenTop", "path": "linear", "role": "screener"}
          ]
        },
        {
          "step": 2,
          "action": "SG slides to back-screen spot",
          "description": "SGが逆サイドからエルボー付近へ移動。X5にバックスクリーンを仕掛ける準備",
          "moves": [
            {"player": "SG", "from": "WingL", "to": "ElbowR", "path": "linear", "role": "screener"}
          ]
        },
        {
          "step": 3,
          "action": "PG drives off screen",
          "description": "PGがCのスクリーンを使って左方向にアタック",
          "moves": [
            {"player": "PG", "from": "TopKey", "to": "SlotL", "path": "curved_left", "state": "dribbling"}
          ]
        },
        {
          "step": 4,
          "action": "C rolls free + SG screens X5",
          "description": "SGがX5にバックスクリーン！X5が引っかかりCがフリーでリムへダイブ。SGはトップへポップ",
          "condition": "X5がバックスクリーンにハマる → Cがリムでフリー",
          "defenseDelay": {"C": 0.8},
          "moves": [
            {"player": "C", "from": "BallScreenTop", "to": "DunkerL", "path": "roll_dive"},
            {"player": "SG", "from": "ElbowR", "to": "TopR", "path": "linear"}
          ]
        },
        {
          "step": 5,
          "action": "PG lob pass to C",
          "description": "DFの判断が遅れた隙にPGからCへロブパス → ダンク！",
          "moves": [
            {"player": "PG", "action": "pass", "target": "C", "passType": "lob", "passAt": 0.4},
            {"player": "C", "action": "dunk", "at": "Rim"}
          ]
        }
      ]
    }
  ]
}
